
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../flatten/">
      
      
        <link rel="next" href="../enums-and-sealed/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.11">
    
    
      
        <title>Tiny Types - Kondor-JSON Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.4af4bdda.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#tiny-types-value-objects" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Kondor-JSON Documentation" class="md-header__button md-logo" aria-label="Kondor-JSON Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Kondor-JSON Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Tiny Types
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/uberto/kondor-json" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    kondor-json
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../getting-started/" class="md-tabs__link">
        
  
  
    
  
  Getting Started

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../short-field-functions/" class="md-tabs__link">
          
  
  
  Advanced

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../api-reference.md" class="md-tabs__link">
        
  
  
    
  
  API Reference

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../faq/" class="md-tabs__link">
        
  
  
    
  
  FAQ

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Kondor-JSON Documentation" class="md-nav__button md-logo" aria-label="Kondor-JSON Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Kondor-JSON Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/uberto/kondor-json" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    kondor-json
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Advanced
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Advanced
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../short-field-functions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Field Functions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../flatten/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Flattening Nested Objects
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Tiny Types
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Tiny Types
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the-default-approach" class="md-nav__link">
    <span class="md-ellipsis">
      üß± The Default Approach
    </span>
  </a>
  
    <nav class="md-nav" aria-label="üß± The Default Approach">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#resulting-json" class="md-nav__link">
    <span class="md-ellipsis">
      Resulting JSON
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-jstringrepresentable" class="md-nav__link">
    <span class="md-ellipsis">
      üîß Using JStringRepresentable
    </span>
  </a>
  
    <nav class="md-nav" aria-label="üîß Using JStringRepresentable">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example" class="md-nav__link">
    <span class="md-ellipsis">
      Example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resulting-json_1" class="md-nav__link">
    <span class="md-ellipsis">
      Resulting JSON
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#writing-your-own-converter-factories" class="md-nav__link">
    <span class="md-ellipsis">
      üîÑ Writing Your Own Converter Factories
    </span>
  </a>
  
    <nav class="md-nav" aria-label="üîÑ Writing Your Own Converter Factories">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#resulting-json_2" class="md-nav__link">
    <span class="md-ellipsis">
      Resulting JSON
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#other-jrepresentable-classes" class="md-nav__link">
    <span class="md-ellipsis">
      üìö Other J*Representable Classes
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whats-next" class="md-nav__link">
    <span class="md-ellipsis">
      üìå What's Next?
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../enums-and-sealed/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Enums and Sealed Classes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../versioned-converter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Versioning the JSON
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../api-reference.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../faq/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    FAQ
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the-default-approach" class="md-nav__link">
    <span class="md-ellipsis">
      üß± The Default Approach
    </span>
  </a>
  
    <nav class="md-nav" aria-label="üß± The Default Approach">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#resulting-json" class="md-nav__link">
    <span class="md-ellipsis">
      Resulting JSON
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-jstringrepresentable" class="md-nav__link">
    <span class="md-ellipsis">
      üîß Using JStringRepresentable
    </span>
  </a>
  
    <nav class="md-nav" aria-label="üîß Using JStringRepresentable">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example" class="md-nav__link">
    <span class="md-ellipsis">
      Example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resulting-json_1" class="md-nav__link">
    <span class="md-ellipsis">
      Resulting JSON
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#writing-your-own-converter-factories" class="md-nav__link">
    <span class="md-ellipsis">
      üîÑ Writing Your Own Converter Factories
    </span>
  </a>
  
    <nav class="md-nav" aria-label="üîÑ Writing Your Own Converter Factories">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#resulting-json_2" class="md-nav__link">
    <span class="md-ellipsis">
      Resulting JSON
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#other-jrepresentable-classes" class="md-nav__link">
    <span class="md-ellipsis">
      üìö Other J*Representable Classes
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whats-next" class="md-nav__link">
    <span class="md-ellipsis">
      üìå What's Next?
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="tiny-types-value-objects">Tiny Types (Value Objects)<a class="headerlink" href="#tiny-types-value-objects" title="Permanent link">&para;</a></h1>
<p>In many Kotlin applications, we use <em>tiny types</em> ‚Äî sometimes called <em>value objects</em> ‚Äî to wrap primitive values with domain-specific meaning. For example, we might wrap a <code>String</code> in an <code>Email</code> class, or a <code>Double</code> in a <code>Price</code> class.</p>
<p>This is a common technique for adding clarity and safety to your code, and is described well in <a href="https://darrenhobbs.com/2007/04/11/tiny-types/">this article</a> by Darren Hobbs.</p>
<p>Kotlin has first-class support for these kinds of types using <a href="https://kotlinlang.org/docs/inline-classes.html">inline value classes</a>, which allow you to wrap a value while avoiding runtime overhead. Kondor builds on this concept by providing utilities to serialize and deserialize these types easily, avoiding the "object" overhead in the JSON.</p>
<p>Kondor supports these types with minimal boilerplate. In this section, we‚Äôll look at a couple of strategies for working with tiny types.</p>
<hr />
<h2 id="the-default-approach">üß± The Default Approach<a class="headerlink" href="#the-default-approach" title="Permanent link">&para;</a></h2>
<p>If you don't define a custom converter for your tiny type, Kondor will serialize it as a regular object. For example:</p>
<div class="highlight"><pre><span></span><code><span class="kd">class</span><span class="w"> </span><span class="nc">Email</span><span class="p">(</span><span class="kd">val</span><span class="w"> </span><span class="nv">raw</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">)</span>

<span class="kd">object</span><span class="w"> </span><span class="nc">JEmail</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">JAny</span><span class="o">&lt;</span><span class="n">Email</span><span class="o">&gt;</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">raw</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">str</span><span class="p">(</span><span class="n">Email</span><span class="o">::</span><span class="n">raw</span><span class="p">)</span>

<span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="n">JsonNodeObject</span><span class="p">.</span><span class="nf">deserializeOrThrow</span><span class="p">()</span><span class="w"> </span><span class="o">=</span>
<span class="w">        </span><span class="n">Email</span><span class="p">(</span><span class="n">raw</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">+</span><span class="n">raw</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">data</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">User</span><span class="p">(</span><span class="kd">val</span><span class="w"> </span><span class="nv">name</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">email</span><span class="p">:</span><span class="w"> </span><span class="n">Email</span><span class="p">)</span>

<span class="kd">object</span><span class="w"> </span><span class="nc">JUser</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">JAny</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">name</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">str</span><span class="p">(</span><span class="n">User</span><span class="o">::</span><span class="n">name</span><span class="p">)</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">email</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">str</span><span class="p">(</span><span class="n">JEmail</span><span class="p">,</span><span class="w"> </span><span class="n">User</span><span class="o">::</span><span class="n">email</span><span class="p">)</span>

<span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="n">JsonNodeObject</span><span class="p">.</span><span class="nf">deserializeOrThrow</span><span class="p">()</span><span class="w"> </span><span class="o">=</span>
<span class="w">        </span><span class="n">User</span><span class="p">(</span>
<span class="w">            </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">+</span><span class="n">name</span><span class="p">,</span>
<span class="w">            </span><span class="n">email</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">+</span><span class="n">email</span>
<span class="w">        </span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="resulting-json">Resulting JSON<a class="headerlink" href="#resulting-json" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Alice&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;email&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;raw&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;alice@example.com&quot;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>This works just fine, but adds unnecessary structure to the JSON ‚Äî the <code>email</code> is just a string, so it makes sense to avoid wrapping it as an object. That‚Äôs where <code>JStringRepresentable</code> or factory-style helpers come in.</p>
<hr />
<h2 id="using-jstringrepresentable">üîß Using <code>JStringRepresentable</code><a class="headerlink" href="#using-jstringrepresentable" title="Permanent link">&para;</a></h2>
<p>If your tiny type wraps a <code>String</code> but doesn't follow the wrapper class conventions, or if you need custom conversion logic, you can create a converter by subclassing <code>JStringRepresentable</code>.</p>
<blockquote>
<p>üîÑ You can easily adapt this approach to work with other tiny type libraries such as <a href="https://github.com/jcornaz/values">values4k</a>. As long as you can define a function to go from a string to your value object (e.g., from JSON) and back (e.g., to JSON), you can implement <code>JStringRepresentable</code> for any type.</p>
</blockquote>
<p><code>JStringRepresentable</code> is used to create a bidirectional mapping between a JSON string and your custom type. This is done by implementing two functions:</p>
<ul>
<li><code>cons</code> ‚Äî a function that takes a <code>String</code> and returns an instance of your type.</li>
<li><code>render</code> ‚Äî a function that takes an instance of your type and returns a <code>String</code>.</li>
</ul>
<p>Together, these provide the two-way transformation between the JSON representation and the Kotlin object.</p>
<h3 id="example">Example<a class="headerlink" href="#example" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kd">class</span><span class="w"> </span><span class="nc">Email</span><span class="p">(</span><span class="kd">val</span><span class="w"> </span><span class="nv">raw</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">)</span>

<span class="kd">object</span><span class="w"> </span><span class="nc">JEmail</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">JStringRepresentable</span><span class="o">&lt;</span><span class="n">Email</span><span class="o">&gt;</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">cons</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="kt">String</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">Email</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">::</span><span class="n">Email</span>
<span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">render</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="n">Email</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nb">it</span><span class="p">.</span><span class="na">raw</span><span class="w"> </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Use it in a data class</span>
<span class="kd">data</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">User</span><span class="p">(</span><span class="kd">val</span><span class="w"> </span><span class="nv">name</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">email</span><span class="p">:</span><span class="w"> </span><span class="n">Email</span><span class="p">)</span>

<span class="kd">object</span><span class="w"> </span><span class="nc">JUser</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">JAny</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">name</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">str</span><span class="p">(</span><span class="n">User</span><span class="o">::</span><span class="n">name</span><span class="p">)</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">email</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">str</span><span class="p">(</span><span class="n">JEmail</span><span class="p">,</span><span class="w"> </span><span class="n">User</span><span class="o">::</span><span class="n">email</span><span class="p">)</span>

<span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="n">JsonNodeObject</span><span class="p">.</span><span class="nf">deserializeOrThrow</span><span class="p">()</span><span class="w"> </span><span class="o">=</span>
<span class="w">        </span><span class="n">User</span><span class="p">(</span>
<span class="w">            </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">+</span><span class="n">name</span><span class="p">,</span>
<span class="w">            </span><span class="n">email</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">+</span><span class="n">email</span>
<span class="w">        </span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="resulting-json_1">Resulting JSON<a class="headerlink" href="#resulting-json_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Alice&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;email&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;alice@example.com&quot;</span>
<span class="p">}</span>
</code></pre></div>
<p>This approach gives you full control over how your tiny type is converted to and from strings, which can be helpful if you need to support legacy formats or add validation.</p>
<hr />
<h2 id="writing-your-own-converter-factories">üîÑ Writing Your Own Converter Factories<a class="headerlink" href="#writing-your-own-converter-factories" title="Permanent link">&para;</a></h2>
<p>If you're using a consistent way to define your tiny types, you can create reusable factories to produce converters. This helps reduce duplication across many tiny types.</p>
<p>Here‚Äôs how you could define a helper converter for tiny types from <a href="https://github.com/fork-handles/forkhandles/tree/trunk/values4k">values4k</a>:</p>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nn">dev.forkhandles.values.StringValue</span>

<span class="nd">@JvmInline</span>
<span class="kd">value</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">Email</span><span class="p">(</span><span class="kd">override</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">value</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">StringValue</span><span class="o">&lt;</span><span class="n">Email</span><span class="o">&gt;</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">JStringValue</span><span class="o">&lt;</span><span class="n">T</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">StringValue</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;&gt;</span><span class="p">(</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">konstructor</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="kt">String</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">T</span>
<span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">JStringRepresentable</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">cons</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="kt">String</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">konstructor</span>
<span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">render</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="n">T</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nb">it</span><span class="p">.</span><span class="na">value</span><span class="w"> </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">object</span><span class="w"> </span><span class="nc">JEmail</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">JStringValue</span><span class="o">&lt;</span><span class="n">Email</span><span class="o">&gt;</span><span class="p">(</span><span class="o">::</span><span class="n">Email</span><span class="p">)</span>

<span class="kd">data</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">User</span><span class="p">(</span><span class="kd">val</span><span class="w"> </span><span class="nv">name</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">email</span><span class="p">:</span><span class="w"> </span><span class="n">Email</span><span class="p">)</span>

<span class="kd">object</span><span class="w"> </span><span class="nc">JUser</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">JAny</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">name</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">str</span><span class="p">(</span><span class="n">User</span><span class="o">::</span><span class="n">name</span><span class="p">)</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">email</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">stru</span><span class="p">(</span><span class="n">JEmail</span><span class="p">,</span><span class="w"> </span><span class="n">User</span><span class="o">::</span><span class="n">email</span><span class="p">)</span>

<span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="n">JsonNodeObject</span><span class="p">.</span><span class="nf">deserializeOrThrow</span><span class="p">()</span><span class="w"> </span><span class="o">=</span>
<span class="w">        </span><span class="n">User</span><span class="p">(</span>
<span class="w">            </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">+</span><span class="n">name</span><span class="p">,</span>
<span class="w">            </span><span class="n">email</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">+</span><span class="n">email</span>
<span class="w">        </span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="resulting-json_2">Resulting JSON<a class="headerlink" href="#resulting-json_2" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Alice&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;email&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;alice@example.com&quot;</span>
<span class="p">}</span>
</code></pre></div>
<p>This lets you easily reuse a single converter factory for any of your value types that extend <code>StringValue</code>, keeping your JSON clean and your code DRY.</p>
<hr />
<h2 id="other-jrepresentable-classes">üìö Other <code>J*Representable</code> Classes<a class="headerlink" href="#other-jrepresentable-classes" title="Permanent link">&para;</a></h2>
<p>In addition to <code>JStringRepresentable</code>, Kondor provides similar helpers for other primitive types. These include:</p>
<ul>
<li><code>JIntRepresentable&lt;T&gt;</code> ‚Äî for types that wrap <code>Int</code></li>
<li><code>JLongRepresentable&lt;T&gt;</code> ‚Äî for types that wrap <code>Long</code></li>
<li><code>JDoubleRepresentable&lt;T&gt;</code> ‚Äî for types that wrap <code>Double</code></li>
<li><code>JBoolRepresentable&lt;T&gt;</code> ‚Äî for types that wrap <code>Boolean</code></li>
<li><code>JFloatRepresentable&lt;T&gt;</code> ‚Äî for types that wrap <code>Float</code></li>
<li><code>JBigIntRepresentable&lt;T&gt;</code> ‚Äî for types that wrap <code>BigInteger</code></li>
</ul>
<p>Each of these classes lets you define converters for tiny types by providing <code>cons</code> and <code>render</code> functions, just like <code>JStringRepresentable</code>.</p>
<p>These are especially useful when working with domain primitives like <code>UserId</code>, <code>Price</code>, <code>Flag</code>, etc., that wrap core types while preserving type safety and clarity in your domain model.</p>
<h2 id="whats-next">üìå What's Next?<a class="headerlink" href="#whats-next" title="Permanent link">&para;</a></h2>
<p>Explore more of Kondor‚Äôs features:</p>
<ul>
<li>üíª <a href="../getting-started/">Converters Overview</a> ‚Äì an overview understanding how to work with Kondor converters</li>
<li>üîÅ <a href="../versioned-converter/">Versioning the JSON</a> ‚Äì for evolving schemas</li>
<li>üî§ <a href="./">Tiny Types (Value Objects)</a> ‚Äì for handling object you want to represent as a string or number</li>
<li>üî§ <a href="../enums-and-sealed/">Enums and Sealed Classes</a> ‚Äì for working with enums and sealed classes</li>
<li>üõ† <a href="../short-field-functions/">Field Functions</a> ‚Äì helper functions for defining fields in Kondor converters</li>
<li>üß≥ <a href="sealed-classes.md">Sealed Classes and Polymorphic JSON</a> ‚Äì handling polymorphic JSON with sealed classes</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.top", "search.suggest", "search.highlight"], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>